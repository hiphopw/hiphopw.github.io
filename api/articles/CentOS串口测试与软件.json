{"title":"CentOS串口测试与软件","uid":"c3eb7a31f0f61dcdd14e657022fbe212","slug":"CentOS串口测试与软件","date":"2022-04-01T16:18:45.000Z","updated":"2022-04-01T16:57:19.614Z","comments":true,"path":"api/articles/CentOS串口测试与软件.json","keywords":null,"cover":null,"content":"<h1 id=\"CentOS串口测试和一些相关问题\"><a href=\"#CentOS串口测试和一些相关问题\" class=\"headerlink\" title=\"CentOS串口测试和一些相关问题\"></a>CentOS串口测试和一些相关问题</h1><p>最近由于要在centos系统下扩展串口，所以扩展完串口之后我们还要测试一下收发，确保没有问题，顺便再记录一下防止以后忘记。</p>\n<h2 id=\"1-让centos串口数量大于4个\"><a href=\"#1-让centos串口数量大于4个\" class=\"headerlink\" title=\"1.让centos串口数量大于4个\"></a>1.让centos串口数量大于4个</h2><p>linux内核允许串口数最大为4个，而我们的串口大于4个，要想扩展的串口都能正常使用，需要修改配置文件<br><code>vi /boot/grub2/grub.cfg</code><br>进入grub.cfg之后，我们要在里面找到<code>linux16 /vmlinuz-3.10.0-327.el7.x86_64 root=/dev/mapper/centos-root ro crashkernel=auto rd.lvm.lv=centos/root rd.lvm.lv=centos/swap rhgb quiet LANG=zh_CN.UTF-8</code> 这一行，按<code>i</code>键可以修改，在最后面空格后输入<code>8250.nr_uarts=6</code> 这里你有多少串口就可以填多少，我是6个所以这么输，然后<code>:wq</code>保存并退出，并重启系统。重启完成后进入终端输入<code>dmesg | grep tty</code> 可以看到串口变多了。</p>\n<h2 id=\"2-安装与配置minicom\"><a href=\"#2-安装与配置minicom\" class=\"headerlink\" title=\"2.安装与配置minicom\"></a>2.安装与配置minicom</h2><p>首先我们先安装<br><code>yum install minicom</code><br>安装期间会有两个提示选项，默认都是选<code>y</code>回车，安装完成后我们就可以接着来配置minicom了，输入<code>minicom -s</code>，出现界面之后，选第三行，serial port setup这一项后设置成如下</p>\n<p>A — Serial Device : <code>/dev/ttyS0</code></p>\n<p>B — lockfile Location : /var/lock</p>\n<p>C — Callin Program :</p>\n<p>D — Callout Program:</p>\n<p>E — Bps/par/Bits : 9600 8N1</p>\n<p>F — Hardware Flow Control : No</p>\n<p>G — Software Flow Control : NO</p>\n<p>Change with setting?<br>完成之后，选择Save as dfl保存，再退出即可。</p>\n<h2 id=\"3-minicom的使用\"><a href=\"#3-minicom的使用\" class=\"headerlink\" title=\"3.minicom的使用\"></a>3.minicom的使用</h2><p>在完成上述的安装操作之后，我们就可以来使用了，输入<code>minicom</code>进入软件</p>\n<p>minicom基本操作如下：<br>1）需使用Ctrl+a 进入设置状态<br>2）按z进入设置菜单  </p>\n<p>E键：切换本地回显为on/off</p>\n<p>O键：配置minicom。转到配置菜单</p>\n<p>S键：发送文件到目标系统中  </p>\n<p>W键：自动卷屏。当显示的内容超过一行之后，自动将后面的内容换行。这个功能在查看内核的启动信息时很有用。</p>\n<p>C键：清除屏幕的显示内容  </p>\n<p>B键：浏览minicom的历史显示</p>\n<p>X键：退出mInicom，会提示确认退出。</p>\n<h2 id=\"4-minicom收发测试\"><a href=\"#4-minicom收发测试\" class=\"headerlink\" title=\"4.minicom收发测试\"></a>4.minicom收发测试</h2><p>收发测试前先要将本地回显打开，再切换终端<code>Ctrl+alt+F2</code>，这里<code>F1</code>之后都可以切换，看个人，切换之后就要重新登陆并打开minicom和本地回显。然后再<code>Ctrl+A+O</code>更改配置里的串口<code>A — Serial Device : /dev/ttyS0</code>  将<code>ttyS0</code>改为你硬件对应的需要测试的串口号，然后将两个串口连接就可以进行测试了。</p>\n","feature":true,"text":"CentOS串口测试和一些相关问题最近由于要在centos系统下扩展串口，所以扩展完串口之后我们还要测试一下收发，确保没有问题，顺便再记录一下防止以后忘记。 1.让centos串口数量大于4个linux内核允许串口数最大为4个，而我们的串口大于4个，要想扩展的串口都能正常使用，需...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"教程","slug":"教程","count":2,"path":"api/categories/教程.json"}],"tags":[{"name":"CentOS","slug":"CentOS","count":2,"path":"api/tags/CentOS.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#CentOS%E4%B8%B2%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%92%8C%E4%B8%80%E4%BA%9B%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">CentOS串口测试和一些相关问题</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E8%AE%A9centos%E4%B8%B2%E5%8F%A3%E6%95%B0%E9%87%8F%E5%A4%A7%E4%BA%8E4%E4%B8%AA\"><span class=\"toc-text\">1.让centos串口数量大于4个</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEminicom\"><span class=\"toc-text\">2.安装与配置minicom</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-minicom%E7%9A%84%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">3.minicom的使用</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-minicom%E6%94%B6%E5%8F%91%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">4.minicom收发测试</span></a></li></ol></li></ol>","author":{"name":"伍只小强","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"一只不懂电脑的小强","socials":{"github":"https://github.com/hiphopw/hiphopw.github.io","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/topic/20042281/hot","csdn":"https://www.csdn.net/","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"CentOS安装独立显卡驱动教程","uid":"1745cb968693e532f7b243651a9eb5fc","slug":"CentOS安装独立显卡驱动教程","date":"2022-01-18T17:04:35.000Z","updated":"2022-04-01T16:35:43.193Z","comments":true,"path":"api/articles/CentOS安装独立显卡驱动教程.json","keywords":null,"cover":null,"text":"CentOS安装独立显卡驱动教程写在开头，因为centos系统的与众不同，导致此系统的驱动安装方式有别与其他的操作系统，而刚好最近有机器需要解决这方面的问题，故经过多方的尝试终于成功了，现写出这篇教程希望能帮到有需要的人。 准备工作清除缓存并更新，也可直接执行第三行代码 yum ...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"教程","slug":"教程","count":2,"path":"api/categories/教程.json"}],"tags":[{"name":"CentOS","slug":"CentOS","count":2,"path":"api/tags/CentOS.json"}],"author":{"name":"伍只小强","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"一只不懂电脑的小强","socials":{"github":"https://github.com/hiphopw/hiphopw.github.io","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/topic/20042281/hot","csdn":"https://www.csdn.net/","juejin":"","customs":{}}},"feature":true}}